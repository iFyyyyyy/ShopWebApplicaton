{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nlet ShopPageComponent = class ShopPageComponent {\n  constructor(http) {\n    this.http = http;\n    this.displayedColumns = ['name', 'price'];\n    this.pageIndex = 0;\n    this.pageSize = 5;\n    this.urlJSON = '/assets/data-source.json';\n    this.products = [];\n    this.dataSource = new MatTableDataSource(this.products);\n  }\n  ngOnInit() {\n    this.getFirstDataJSON();\n  }\n  ngAfterViewInit() {\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n  }\n  applyFilter(event) {\n    const filterValue = event.target.value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n  // Подгрузка прайс листа из JSON файла data-source из ТЗ\n  getFirstDataJSON() {\n    this.http.get(this.urlJSON).subscribe(response => {\n      this.products = response;\n      this.dataSource = new MatTableDataSource(this.products);\n      this.dataSource.paginator = this.paginator;\n      this.dataSource.sort = this.sort;\n    });\n  }\n};\n__decorate([ViewChild(MatPaginator)], ShopPageComponent.prototype, \"paginator\", void 0);\n__decorate([ViewChild(MatSort)], ShopPageComponent.prototype, \"sort\", void 0);\nShopPageComponent = __decorate([Component({\n  selector: 'app-shop-page',\n  templateUrl: './shop-page.component.html',\n  styleUrls: ['./shop-page.component.css']\n})], ShopPageComponent);\nexport { ShopPageComponent };","map":{"version":3,"mappings":";AAAA,SAAwBA,SAAS,EAAUC,SAAS,QAAS,eAAe;AAC5E,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,kBAAkB,QAAQ,yBAAyB;AAC5D,SAASC,YAAY,QAAmB,6BAA6B;AAS9D,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAgB5BC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAfxB,qBAAgB,GAAa,CAAC,MAAM,EAAE,OAAO,CAAC;IAI9C,cAAS,GAAW,CAAC;IACrB,aAAQ,GAAW,CAAC;IAEpB,YAAO,GAAW,0BAA0B;IAS1C,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,UAAU,GAAG,IAAIN,kBAAkB,CAAC,IAAI,CAACK,QAAQ,CAAC;EAGxD;EAEDE,QAAQ;IACN,IAAI,CAACC,gBAAgB,EAAE;EACzB;EAEAC,eAAe;IACb,IAAI,CAACH,UAAU,CAACI,SAAS,GAAG,IAAI,CAACA,SAAS;IAC1C,IAAI,CAACJ,UAAU,CAACK,IAAI,GAAG,IAAI,CAACA,IAAI;EAClC;EAEAC,WAAW,CAACC,KAAY;IACtB,MAAMC,WAAW,GAAID,KAAK,CAACE,MAA2B,CAACC,KAAK;IAC5D,IAAI,CAACV,UAAU,CAACW,MAAM,GAAGH,WAAW,CAACI,IAAI,EAAE,CAACC,WAAW,EAAE;IACzD,IAAI,IAAI,CAACb,UAAU,CAACI,SAAS,EAAE;MAC7B,IAAI,CAACJ,UAAU,CAACI,SAAS,CAACU,SAAS,EAAE;;EAEzC;EAGA;EACAZ,gBAAgB;IACd,IAAI,CAACJ,IAAI,CAACiB,GAAG,CAAC,IAAI,CAACC,OAAO,CAAC,CAACC,SAAS,CAACC,QAAQ,IAAI;MAChD,IAAI,CAACnB,QAAQ,GAAGmB,QAAQ;MACxB,IAAI,CAAClB,UAAU,GAAG,IAAIN,kBAAkB,CAAU,IAAI,CAACK,QAAQ,CAAC;MAChE,IAAI,CAACC,UAAU,CAACI,SAAS,GAAG,IAAI,CAACA,SAAS;MAC1C,IAAI,CAACJ,UAAU,CAACK,IAAI,GAAG,IAAI,CAACA,IAAI;IAClC,CAAC,CAAC;EACJ;CAGD;AAzCCc,YADC3B,SAAS,CAACG,YAAY,CAAC,oDACC;AACLwB,YAAnB3B,SAAS,CAACC,OAAO,CAAC,+CAAgB;AAZxBG,iBAAiB,eAL7BL,SAAS,CAAC;EACT6B,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,GACW1B,iBAAiB,CAoD7B;SApDYA,iBAAiB","names":["Component","ViewChild","MatSort","MatTableDataSource","MatPaginator","ShopPageComponent","constructor","http","products","dataSource","ngOnInit","getFirstDataJSON","ngAfterViewInit","paginator","sort","applyFilter","event","filterValue","target","value","filter","trim","toLowerCase","firstPage","get","urlJSON","subscribe","response","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\vscodeprojects\\ShopWebApplication\\ClientApp\\src\\app\\shop-page\\shop-page.component.ts"],"sourcesContent":["import { AfterViewInit, Component, OnInit, ViewChild, } from '@angular/core';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator, PageEvent } from '@angular/material/paginator';\nimport { Product } from '../modules/Product';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-shop-page',\n  templateUrl: './shop-page.component.html',\n  styleUrls: ['./shop-page.component.css'],\n})\nexport class ShopPageComponent implements OnInit {\n  displayedColumns: string[] = ['name', 'price'];\n  dataSource: MatTableDataSource<Product>;\n  products: Product[] | any;\n\n  pageIndex: number = 0;\n  pageSize: number = 5;\n\n  urlJSON: string = '/assets/data-source.json';\n\n  @ViewChild(MatPaginator)\n  paginator!: MatPaginator;\n  @ViewChild(MatSort) sort!: MatSort;\n\n\n\n  constructor(private http: HttpClient) {\n    this.products = [];\n    this.dataSource = new MatTableDataSource(this.products);\n\n\n   }\n\n  ngOnInit() {\n    this.getFirstDataJSON();\n  }\n\n  ngAfterViewInit() {\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n  }\n\n  applyFilter(event: Event) {\n    const filterValue = (event.target as HTMLInputElement).value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n\n\n  // Подгрузка прайс листа из JSON файла data-source из ТЗ\n  getFirstDataJSON(){\n    this.http.get(this.urlJSON).subscribe(response  => {\n      this.products = response;\n      this.dataSource = new MatTableDataSource<Product>(this.products);\n      this.dataSource.paginator = this.paginator;\n      this.dataSource.sort = this.sort;\n    });\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}