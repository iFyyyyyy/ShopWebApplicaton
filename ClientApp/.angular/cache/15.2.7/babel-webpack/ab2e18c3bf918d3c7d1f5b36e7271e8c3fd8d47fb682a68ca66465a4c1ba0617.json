{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nlet ShopPageComponent = class ShopPageComponent {\n  constructor(productService) {\n    this.productService = productService;\n    this.displayedColumns = ['name', 'price'];\n    this.pageIndex = 0;\n    this.pageSize = 5;\n    this.products = [];\n    this.dataSource = new MatTableDataSource(this.products);\n  }\n  ngOnInit() {\n    this.getFirstDataJSON();\n  }\n  ngAfterViewInit() {\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n  }\n  applyFilter(event) {\n    const filterValue = event.target.value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n  // Подгрузка прайс листа из JSON файла data-source из ТЗ\n  getFirstDataJSON() {\n    this.productService.getFirstDataJSON().subscribe(response => {\n      this.products = response;\n      this.dataSource = new MatTableDataSource(this.products);\n      this.dataSource.paginator = this.paginator;\n      this.dataSource.sort = this.sort;\n    });\n  }\n};\n__decorate([ViewChild(MatPaginator)], ShopPageComponent.prototype, \"paginator\", void 0);\n__decorate([ViewChild(MatSort)], ShopPageComponent.prototype, \"sort\", void 0);\nShopPageComponent = __decorate([Component({\n  selector: 'app-shop-page',\n  templateUrl: './shop-page.component.html',\n  styleUrls: ['./shop-page.component.css']\n})], ShopPageComponent);\nexport { ShopPageComponent };","map":{"version":3,"mappings":";AACA,SAAwBA,SAAS,EAAUC,SAAS,QAAS,eAAe;AAC5E,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,kBAAkB,QAAQ,yBAAyB;AAC5D,SAASC,YAAY,QAAmB,6BAA6B;AAS9D,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAc5BC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IAblC,qBAAgB,GAAa,CAAC,MAAM,EAAE,OAAO,CAAC;IAI9C,cAAS,GAAW,CAAC;IACrB,aAAQ,GAAW,CAAC;IASlB,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,UAAU,GAAG,IAAIN,kBAAkB,CAAC,IAAI,CAACK,QAAQ,CAAC;EAGxD;EAEDE,QAAQ;IACN,IAAI,CAACC,gBAAgB,EAAE;EACzB;EAEAC,eAAe;IACb,IAAI,CAACH,UAAU,CAACI,SAAS,GAAG,IAAI,CAACA,SAAS;IAC1C,IAAI,CAACJ,UAAU,CAACK,IAAI,GAAG,IAAI,CAACA,IAAI;EAClC;EAEAC,WAAW,CAACC,KAAY;IACtB,MAAMC,WAAW,GAAID,KAAK,CAACE,MAA2B,CAACC,KAAK;IAC5D,IAAI,CAACV,UAAU,CAACW,MAAM,GAAGH,WAAW,CAACI,IAAI,EAAE,CAACC,WAAW,EAAE;IACzD,IAAI,IAAI,CAACb,UAAU,CAACI,SAAS,EAAE;MAC7B,IAAI,CAACJ,UAAU,CAACI,SAAS,CAACU,SAAS,EAAE;;EAEzC;EAGA;EACAZ,gBAAgB;IACd,IAAI,CAACJ,cAAc,CAACI,gBAAgB,EAAE,CAACa,SAAS,CAAEC,QAAmB,IAAK;MACxE,IAAI,CAACjB,QAAQ,GAAGiB,QAAQ;MACxB,IAAI,CAAChB,UAAU,GAAG,IAAIN,kBAAkB,CAAU,IAAI,CAACK,QAAQ,CAAC;MAChE,IAAI,CAACC,UAAU,CAACI,SAAS,GAAG,IAAI,CAACA,SAAS;MAC1C,IAAI,CAACJ,UAAU,CAACK,IAAI,GAAG,IAAI,CAACA,IAAI;IAClC,CAAC,CAAC;EACJ;CAGD;AAzC0BY,YAAxBzB,SAAS,CAACG,YAAY,CAAC,oDAA0B;AAC9BsB,YAAnBzB,SAAS,CAACC,OAAO,CAAC,+CAAgB;AAVxBG,iBAAiB,eAL7BL,SAAS,CAAC;EACT2B,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,GACWxB,iBAAiB,CAkD7B;SAlDYA,iBAAiB","names":["Component","ViewChild","MatSort","MatTableDataSource","MatPaginator","ShopPageComponent","constructor","productService","products","dataSource","ngOnInit","getFirstDataJSON","ngAfterViewInit","paginator","sort","applyFilter","event","filterValue","target","value","filter","trim","toLowerCase","firstPage","subscribe","response","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\vscodeprojects\\ShopWebApplication\\ClientApp\\src\\app\\shop-page\\shop-page.component.ts"],"sourcesContent":["import { ProductService } from './../service/product-service.service';\nimport { AfterViewInit, Component, OnInit, ViewChild, } from '@angular/core';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator, PageEvent } from '@angular/material/paginator';\nimport { Product } from '../modules/Product';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-shop-page',\n  templateUrl: './shop-page.component.html',\n  styleUrls: ['./shop-page.component.css'],\n})\nexport class ShopPageComponent implements OnInit {\n  displayedColumns: string[] = ['name', 'price'];\n  dataSource: MatTableDataSource<Product>;\n  products: Product[];\n\n  pageIndex: number = 0;\n  pageSize: number = 5;\n\n\n  @ViewChild(MatPaginator) paginator!: MatPaginator;\n  @ViewChild(MatSort) sort!: MatSort;\n\n\n\n  constructor(private productService: ProductService) {\n    this.products = [];\n    this.dataSource = new MatTableDataSource(this.products);\n\n\n   }\n\n  ngOnInit() {\n    this.getFirstDataJSON();\n  }\n\n  ngAfterViewInit() {\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n  }\n\n  applyFilter(event: Event) {\n    const filterValue = (event.target as HTMLInputElement).value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n\n\n  // Подгрузка прайс листа из JSON файла data-source из ТЗ\n  getFirstDataJSON(){\n    this.productService.getFirstDataJSON().subscribe((response: Product[])  => {\n      this.products = response;\n      this.dataSource = new MatTableDataSource<Product>(this.products);\n      this.dataSource.paginator = this.paginator;\n      this.dataSource.sort = this.sort;\n    });\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}